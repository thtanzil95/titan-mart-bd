<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Titan Mart | Checkout</title>
<style>
body{font-family:Arial,sans-serif;background:#f7f7f7;padding:20px;margin:0;}
header{background:#ff4c00;color:#fff;padding:15px;text-align:center;font-size:24px;display:flex;justify-content:space-between;align-items:center;}
.lang-btn{background:#fff;color:#ff4c00;border:none;padding:5px 10px;border-radius:5px;cursor:pointer;}
h2{text-align:center;color:#ff4c00;}
form{max-width:700px;margin:auto;background:#fff;padding:25px;border-radius:10px;box-shadow:0 4px 15px rgba(0,0,0,0.15);}
input,select{width:100%;padding:10px;margin:8px 0;border-radius:5px;border:1px solid #ccc;}
button{background:#ff4c00;color:#fff;padding:12px;border:none;border-radius:5px;font-size:16px;width:100%;cursor:pointer;margin-top:10px;}
button:hover{background:#e24300;}
.total{font-weight:bold;font-size:18px;margin-top:10px;}
</style>
</head>
<body>

<header>
  <div id="siteTitle">Titan Mart</div>
  <button class="lang-btn" onclick="toggleLang()">বাংলা</button>
</header>

<h2 id="checkoutTitle">Checkout</h2>

<form id="checkoutForm">
  <label id="nameLabel">Name:</label><input type="text" id="name" placeholder="Your Name" required>
  <label id="phoneLabel">Phone:</label><input type="text" id="phone" placeholder="Phone Number" required>
  <label id="altLabel">Alt Phone:</label><input type="text" id="altphone" placeholder="Alternate Phone">

  <label id="districtLabel">District:</label>
  <select id="district" onchange="updateThanaAndDelivery()" required>
    <option value="">Select District</option>
  </select>

  <label id="thanaLabel">Thana/Upazila:</label>
  <select id="thana" required>
    <option value="">Select Thana</option>
  </select>

  <label id="addressLabel">Address:</label><input type="text" id="address" placeholder="Full Address" required>

  <label id="productLabel">Product:</label>
  <select id="product" onchange="updateTotal()">
    <!-- JS will set initial product from URL -->
  </select>

  <label id="qtyLabel">Quantity:</label><input type="number" id="qty" value="1" min="1" onchange="updateTotal()">

  <div id="deliveryLabel">Delivery Charge: <span id="deliveryCharge">0</span> Taka</div>
  <div class="total" id="totalLabel">Total: <span id="total">0</span> Taka</div>

  <button type="button" onclick="placeOrder()" id="placeBtn">Place Order via WhatsApp</button>
</form>

<script>
// Language toggle
let lang='en';
function toggleLang(){
  lang = (lang==='en')?'bn':'en';
  document.querySelector('.lang-btn').innerText = (lang==='en')?'বাংলা':'English';
  document.getElementById('siteTitle').innerText = (lang==='en')?'Titan Mart':'টাইতান মার্ট';
  document.getElementById('checkoutTitle').innerText = (lang==='en')?'Checkout':'চেকআউট';
  document.getElementById('nameLabel').innerText = (lang==='en')?'Name:':'নাম:';
  document.getElementById('phoneLabel').innerText = (lang==='en')?'Phone:':'ফোন:';
  document.getElementById('altLabel').innerText = (lang==='en')?'Alt Phone:':'অল্টারনেট ফোন:';
  document.getElementById('districtLabel').innerText = (lang==='en')?'District:':'জেলা:';
  document.getElementById('thanaLabel').innerText = (lang==='en')?'Thana/Upazila:':'উপজেলা/থানা:';
  document.getElementById('addressLabel').innerText = (lang==='en')?'Address:':'ঠিকানা:';
  document.getElementById('productLabel').innerText = (lang==='en')?'Product:':'পণ্য:';
  document.getElementById('qtyLabel').innerText = (lang==='en')?'Quantity:':'পরিমাণ:';
  document.getElementById('deliveryLabel').innerHTML = (lang==='en')?'Delivery Charge: <span id="deliveryCharge">'+document.getElementById("deliveryCharge").innerText+'</span> Taka':'ডেলিভারি চার্জ: <span id="deliveryCharge">'+document.getElementById("deliveryCharge").innerText+'</span> টাকা';
  document.getElementById('totalLabel').innerHTML = (lang==='en')?'Total: <span id="total">'+document.getElementById("total").innerText+'</span> Taka':'মোট: <span id="total">'+document.getElementById("total").innerText+'</span> টাকা';
  document.getElementById('placeBtn').innerText = (lang==='en')?'Place Order via WhatsApp':'ওয়াটসঅ্যাপ অর্ডার দিন';
}

// ===== Full Bangladesh District + Upazila =====
const bangladeshUpazilas = {
  "Dhaka":["Savar","Dhamrai","Keraniganj","Dohar","Nawabganj","Mirpur","Uttara","Dhanmondi","Gulshan","Tejgaon","Mohammadpur","Banani","Badda","Shahbagh","Rampura","Motijheel","Kafrul","Pallabi"],
  "Gazipur":["Gazipur Sadar","Kaliakair","Kapasia","Sreepur","Tongi"],
  "Faridpur":["Faridpur Sadar","Bhanga","Boalmari","Char Bhadrasan","Madhukhali","Alfadanga","Nagarkanda","Saltha"],
  "Madaripur":["Madaripur Sadar","Kalkini","Shibchar","Rajoir"],
  "Shariatpur":["Shariatpur Sadar","Bhedarganj","Damudya","Naria","Zanjira","Gosairhat"],
  "Gopalganj":["Gopalganj Sadar","Kashiani","Muksudpur","Tungipara"],
  "Tangail":["Tangail Sadar","Basail","Bhuapur","Delduar","Dhanbari","Gopalpur","Kalihati","Madhupur","Mirzapur","Nagarpur","Sakhipur","Bhuapur","Ghatail"],
  "Manikganj":["Manikganj Sadar","Singair","Saturia","Harirampur","Shivalaya","Ghiashpur"],
  "Munshiganj":["Munshiganj Sadar","Gazaria","Lohajang","Sreenagar","Sirajdikhan","Tongibari"],
  "Narsingdi":["Narsingdi Sadar","Belabo","Monohardi","Raipura","Shibpur","Palash","Hossainpur"],
  "Comilla":["Comilla Sadar","Debidwar","Chandina","Titas","Homna","Meghna","Daudkandi","Muradnagar","Barura","Brahmanpara","Chouddagram","Laksham","Monohorgonj"],
  "Chattogram":["Anwara","Banshkhali","Boalkhali","Chandanaish","Fatikchhari","Hathazari","Lohagara","Patiya","Rangunia","Sandwip","Satkania","Sitakunda","Mirsharai","Raozan","Brahmanbaria","Cox's Bazar Sadar","Ukhiya","Teknaf","Ramu"],
  "Cox's Bazar":["Cox's Bazar Sadar","Ukhia","Teknaf","Ramu","Chakaria","Maheshkhali","Kutubdia","Moheshkhali"],
  "Khulna":["Khulna Sadar","Sonadanga","Daulatpur","Dacope","Phultala","Koyra","Paikgachha","Batiaghata","Dumuria","Terokhada","Rupsa","Dumuria"],
  "Jessore":["Jessore Sadar","Sharsha","Manirampur","Keshabpur","Jhikargachha","Chougacha","Bagharpara","Abhaynagar"],
  "Satkhira":["Satkhira Sadar","Assasuni","Debhata","Kaliganj","Kalaroa","Shyamnagar","Tala"],
  "Bagerhat":["Bagerhat Sadar","Mollahat","Kachua","Mongla","Morrelganj","Rampal","Sarankhola"],
  "Chuadanga":["Chuadanga Sadar","Alamdanga","Damurhuda","Jibannagar"],
  "Meherpur":["Meherpur Sadar","Mujibnagar","Gangni"],
  "Magura":["Magura Sadar","Mohammadpur","Shalikha","Sreepur"],
  "Kushtia":["Kushtia Sadar","Bheramara","Kumarkhali","Mirpur","Daulatpur"],
  "Pirojpur":["Pirojpur Sadar","Bhandaria","Kawkhali","Nesarabad","Indurkani","Nazirpur","Zianagar","Mathbaria"],
  "Barishal":["Barishal Sadar","Babuganj","Banaripara","Gournadi","Agailjhara","Bakerganj","Gaurnadi","Hizla","Mehendiganj","Muladi","Wazirpur","Barguna"],
  "Bhola":["Bhola Sadar","Burhanuddin","Char Fasson","Daulatkhan","Lalmohan","Manpura","Tazumuddin"],
  "Patuakhali":["Patuakhali Sadar","Bauphal","Dashmina","Galachipa","Kalapara","Mirzaganj","Rangabali","Dumki"],
  "Rangpur":["Rangpur Sadar","Badarganj","Gangachhara","Mithapukur","Kaunia","Pirgachha","Taraganj","Gangachhara","Pirganj","Kurigram Sadar"],
  "Dinajpur":["Dinajpur Sadar","Birampur","Birganj","Biral","Chirirbandar","Fulbari","Hakimpur","Kaharole","Khansama","Nawabganj","Parbatipur","Phulbari","Birganj"],
  "Thakurgaon":["Thakurgaon Sadar","Pirganj","Ranisankail","Haripur"],
  "Lalmonirhat":["Lalmonirhat Sadar","Aditmari","Hatibandha","Kaliganj","Patgram"],
  "Nilphamari":["Nilphamari Sadar","Jaldhaka","Kishoreganj","Domar","Saidpur"],
  "Sherpur":["Sherpur Sadar","Nakla","Nalitabari","Sreebardi","Jhenaigati","Shreebardi"],
  "Moulvibazar":["Moulvibazar Sadar","Barlekha","Kulaura","Juri","Rajnagar","Sreemangal","Moulvibazar Sadar"],
  "Habiganj":["Habiganj Sadar","Ajmiriganj","Baniachang","Bahubal","Chunarughat","Nabiganj","Lakhai"],
  "Sunamganj":["Sunamganj Sadar","Bishwamvarpur","Chhatak","Dowarabazar","Jagannathpur","Shalla","Sullah","Tahirpur","Jamalganj","Derai"],
  "Noakhali":["Noakhali Sadar","Begumganj","Chatkhil","Companiganj","Hatiya","Senbagh","Subarnachar","Sonaimuri"],
  "Feni":["Feni Sadar","Daganbhuiyan","Fulgazi","Chhagalnaiya","Parshuram","Feni Sadar"],
  "Lakshmipur":["Lakshmipur Sadar","Raipur","Ramganj","Ramgati","Kamalnagar"],
  "Brahmanbaria":["Brahmanbaria Sadar","Ashuganj","Nabinagar","Sarail","Kasba","Bancharampur","Bijoynagar","Kasba"]
};

// Populate District Dropdown
const districtEl = document.getElementById("district");
const thanaEl = document.getElementById("thana");
Object.keys(bangladeshUpazilas).forEach(d=>{
  let opt=document.createElement("option");
  opt.value=d; opt.textContent=d;
  districtEl.appendChild(opt);
});

// Get Product from URL
const urlParams = new URLSearchParams(window.location.search);
const prodName
