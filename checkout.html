<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Titan Mart BD | Checkout</title>
<style>
body{font-family:Arial,sans-serif;background:#f7f7f7;padding:20px;margin:0;}
header{background:#ff4c00;color:#fff;padding:15px;text-align:center;font-size:24px;display:flex;justify-content:space-between;align-items:center;}
.lang-btn{background:#fff;color:#ff4c00;border:none;padding:5px 10px;border-radius:5px;cursor:pointer;}
h2{text-align:center;color:#ff4c00;}
form{max-width:750px;margin:auto;background:#fff;padding:25px;border-radius:10px;box-shadow:0 4px 15px rgba(0,0,0,0.15);}
input,select{width:100%;padding:10px;margin:8px 0;border-radius:5px;border:1px solid #ccc;}
button{background:#ff4c00;color:#fff;padding:12px;border:none;border-radius:5px;font-size:16px;width:100%;cursor:pointer;margin-top:10px;}
button:hover{background:#e24300;}
.total{font-weight:bold;font-size:18px;margin-top:10px;}
</style>
</head>
<body>

<header>
  <div id="siteTitle">Titan Mart BD</div>
  <button class="lang-btn" onclick="toggleLang()">বাংলা</button>
</header>

<h2 id="checkoutTitle">Checkout</h2>

<form id="checkoutForm">
  <label id="nameLabel">Name:</label><input type="text" id="name" placeholder="Your Name" required>
  <label id="phoneLabel">Phone:</label><input type="text" id="phone" placeholder="Phone Number" required>
  <label id="altLabel">Alt Phone:</label><input type="text" id="altphone" placeholder="Alternate Phone">

  <label id="districtLabel">District:</label>
  <select id="district" onchange="updateThanaAndDelivery()" required>
    <option value="">Select District</option>
  </select>

  <label id="thanaLabel">Thana/Upazila:</label>
  <select id="thana" required>
    <option value="">Select Thana</option>
  </select>

  <label id="addressLabel">Address:</label><input type="text" id="address" placeholder="Full Address" required>

  <label id="productLabel">Product:</label>
  <select id="product" onchange="updateTotal()"></select>

  <label id="qtyLabel">Quantity:</label><input type="number" id="qty" value="1" min="1" onchange="updateTotal()">

  <div id="deliveryLabel">Delivery Charge: <span id="deliveryCharge">0</span> Taka</div>
  <div class="total" id="totalLabel">Total: <span id="total">0</span> Taka</div>

  <button type="button" onclick="placeOrder()" id="placeBtn">Place Order via WhatsApp</button>
</form>

<script>
// ===== Language Toggle =====
let lang='en';
function toggleLang(){
  lang = (lang==='en')?'bn':'en';
  document.querySelector('.lang-btn').innerText = (lang==='en')?'বাংলা':'English';
  document.getElementById('siteTitle').innerText = (lang==='en')?'Titan Mart BD':'টাইটান মার্ট বিডি';
  document.getElementById('checkoutTitle').innerText = (lang==='en')?'Checkout':'চেকআউট';
  document.getElementById('nameLabel').innerText = (lang==='en')?'Name:':'নাম:';
  document.getElementById('phoneLabel').innerText = (lang==='en')?'Phone:':'ফোন:';
  document.getElementById('altLabel').innerText = (lang==='en')?'Alt Phone:':'অল্টারনেট ফোন:';
  document.getElementById('districtLabel').innerText = (lang==='en')?'District:':'জেলা:';
  document.getElementById('thanaLabel').innerText = (lang==='en')?'Thana/Upazila:':'উপজেলা/থানা:';
  document.getElementById('addressLabel').innerText = (lang==='en')?'Address:':'ঠিকানা:';
  document.getElementById('productLabel').innerText = (lang==='en')?'Product:':'পণ্য:';
  document.getElementById('qtyLabel').innerText = (lang==='en')?'Quantity:':'পরিমাণ:';
  document.getElementById('deliveryLabel').innerHTML = (lang==='en')?'Delivery Charge: <span id="deliveryCharge">'+document.getElementById("deliveryCharge").innerText+'</span> Taka':'ডেলিভারি চার্জ: <span id="deliveryCharge">'+document.getElementById("deliveryCharge").innerText+'</span> টাকা';
  document.getElementById('totalLabel').innerHTML = (lang==='en')?'Total: <span id="total">'+document.getElementById("total").innerText+'</span> Taka':'মোট: <span id="total">'+document.getElementById("total").innerText+'</span> টাকা';
  document.getElementById('placeBtn').innerText = (lang==='en')?'Place Order via WhatsApp':'ওয়াটসঅ্যাপ অর্ডার দিন';
}

// ===== Complete Bangladesh District + Upazila/Thana List =====
const bangladeshAreas = {
 "Dhaka": ["Dhamrai","Dohar","Keraniganj","Nawabganj","Savar","Uttara","Mirpur","Dhanmondi","Gulshan","Banani","Tejgaon","Motijheel","Kafrul","Pallabi"],
 "Gazipur": ["Gazipur Sadar","Kaliganj","Kapasia","Sreepur","Tongi","Kaliakoir"],
 "Narayanganj": ["Arahazar","Bandar","Sonargaon","Fatulla","Rupganj"],
 "Munshiganj": ["Munshiganj Sadar","Gazaria","Lohajang","Sirajdikhan","Tongibari","Sreenagar"],
 "Manikganj": ["Manikganj Sadar","Singair","Saturia","Harirampur","Shivalaya","Ghiashpur","Daulatpur"],
 "Kishoreganj": ["Kishoreganj Sadar","Bajitpur","Bhairab Bazar","Itna","Karimganj","Katiadi","Nikli","Pakundia","Tarail","Hossainpur","Kuliarchar","Mithamoin","Ashtagram"],
 "Gopalganj": ["Gopalganj Sadar","Kashiani","Muksudpur","Tungipara"],
 "Faridpur": ["Faridpur Sadar","Bhanga","Boalmari","Madhukhali","Alfadanga","Nagarkanda","Charbhadrasan","Saltha","Atgharia"],
 "Madaripur": ["Madaripur Sadar","Kalkini","Shibchar","Rajoir"],
 "Shariatpur": ["Shariatpur Sadar","Bhedarganj","Damudya","Gosairhat","Naria","Zanjira"],
 "Rajbari": ["Rajbari Sadar","Goalanda","Kalukhali","Pangsha","Baliakandi"],
 "Tangail": ["Tangail Sadar","Basail","Bhuapur","Delduar","Dhanbari","Gopalpur","Kalihati","Madhupur","Mirzapur","Nagarpur","Sakhipur"],
 "Narsingdi": ["Narsingdi Sadar","Belabo","Monohardi","Raipura","Shibpur","Palash","Hossainpur"],
 "Comilla": ["Comilla Sadar","Debidwar","Chandina","Titas","Homna","Meghna","Daudkandi","Muradnagar","Barura","Brahmanpara","Laksham","Monohorgonj"],
 "Chattogram": ["Anwara","Banshkhali","Boalkhali","Chandanaish","Fatikchhari","Hathazari","Lohagara","Patiya","Rangunia","Sandwip","Satkania","Sitakunda","Mirsharai","Raozan"],
 // … baki 64‑এর বাকি জেলা/উপজেলা list এখানে add করবে
 "Khulna": ["Khulna Sadar","Sonadanga","Daulatpur","Dacope","Phultala","Koyra","Paikgachha","Batiaghata","Dumuria","Terokhada","Rupsa"],
 "Jessore": ["Jessore Sadar","Sharsha","Manirampur","Keshabpur","Jhikargachha","Bagharpara","Abhaynagar"],
 "Satkhira": ["Satkhira Sadar","Assasuni","Debhata","Kaliganj","Kalaroa","Shyamnagar","Tala"]
};

// Populate District Dropdown
const districtEl = document.getElementById("district");
const thanaEl = document.getElementById("thana");
Object.keys(bangladeshAreas).forEach(district=>{
  let opt=document.createElement("option");
  opt.value=district; opt.textContent=district;
  districtEl.appendChild(opt);
});

// Product from URL
const params = new URLSearchParams(window.location.search);
const pName=params.get('product');
const pPrice=params.get('price');
const prodEl=document.getElementById("product");
if(pName && pPrice){
  prodEl.innerHTML = `<option value="${pPrice}">${pName} - ${pPrice} Taka</option>`;
}

// Update Thana + Delivery
function updateThanaAndDelivery(){
  thanaEl.innerHTML = "<option value=''>Select Thana</option>";
  let d = districtEl.value;
  if(bangladeshAreas[d]){
    bangladeshAreas[d].forEach(u=>{
      let o=document.createElement("option");
      o.value=u; o.textContent=u; thanaEl.appendChild(o);
    });
  }
  let charge = (d==="Dhaka")?60:120;
  document.getElementById("deliveryCharge").innerText = charge;
  updateTotal();
}

// Update Total
function updateTotal(){
  let price=parseInt(prodEl.value||0);
  let qty=parseInt(document.getElementById("qty").value);
  let del=parseInt(document.getElementById("deliveryCharge").innerText);
  document.getElementById("total").innerText=(price*qty)+del;
}

// Place Order
function placeOrder(){
  let name=document.getElementById("name").value;
  let phone=document.getElementById("phone").value;
  let alt=document.getElementById("altphone").value;
  let district=districtEl.value;
  let thana=thanaEl.value;
  let address=document.getElementById("address").value;
  if(!name||!phone||!district||!thana||!address){alert("Fill all fields");return;}
  const now=new Date();
  let orderId="ORD"+now.getFullYear().toString().slice(2)+("0"+(now.getMonth()+1)).slice(-2)+("0"+now.getDate()).slice(-2)+Math.floor(Math.random()*900+100);
  let msg=`Order ID: ${orderId}\nName: ${name}\nPhone: ${phone}\nDistrict: ${district}\nThana: ${thana}\nAddress: ${address}`;
  window.open("https://wa.me/8801980236917?text="+encodeURIComponent(msg),"_blank");
}
</script>

</body>
</html>
