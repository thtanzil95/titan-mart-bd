<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Cart | Titan Mart BD</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{margin:0;font-family:Arial,sans-serif;background:#f5f5f5;}
header{background:#ff4c00;color:#fff;padding:15px;text-align:center;font-size:22px;}
.container{max-width:900px;margin:auto;padding:20px;}
.cart-item{background:#fff;padding:15px;margin-bottom:15px;border-radius:8px;display:flex;align-items:center;gap:15px;box-shadow:0 2px 8px rgba(0,0,0,0.1);}
.cart-item img{width:100px;height:100px;object-fit:contain;}
.cart-item div{flex:1;}
input[type=number]{width:60px;padding:5px;}
button{padding:6px 10px;background:#ff4c00;color:#fff;border:none;border-radius:5px;cursor:pointer;margin-left:5px;}
.total{background:#fff;padding:15px;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,0.1);text-align:right;font-size:18px;font-weight:bold;}
.checkout-btn{width:100%;padding:15px;background:#ff4c00;color:#fff;border:none;border-radius:8px;font-size:16px;cursor:pointer;margin-top:10px;}
</style>
</head>
<body>
<header>Titan Mart BD Cart</header>
<div class="container" id="cartContainer"></div>
<div class="container">
  <div class="total">Total: ৳ <span id="totalPrice">0</span></div>
  <button class="checkout-btn" onclick="goCheckout()">Proceed to Checkout</button>
</div>

<script>
const products = JSON.parse(localStorage.getItem("cart")||"[]");
const container = document.getElementById("cartContainer");
function updateCart(){
  container.innerHTML="";
  let total=0;
  products.forEach((p,i)=>{
    const item = document.createElement("div");
    item.className="cart-item";
    item.innerHTML=`
      <img src="${p.image}" alt="${p.name}">
      <div>
        <b>${p.name}</b><br>Price: ৳${p.price} <br>
        Qty: <input type="number" min="1" value="${p.qty}" onchange="changeQty(${i},this.value)">
      </div>
      <div>
        Subtotal: ৳${p.price*p.qty} <br>
        <button onclick="removeItem(${i})">Remove</button>
      </div>
    `;
    container.appendChild(item);
    total += p.price*p.qty;
  });
  document.getElementById("totalPrice").innerText=total;
}
function changeQty(i,val){products[i].qty=parseInt(val);localStorage.setItem("cart",JSON.stringify(products));updateCart();}
function removeItem(i){products.splice(i,1);localStorage.setItem("cart",JSON.stringify(products));updateCart();}
function goCheckout(){if(products.length==0){alert("Cart is empty");return;}window.location.href="checkout.html";}
updateCart();
</script>
</body>
</html>
